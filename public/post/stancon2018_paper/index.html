<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.68.3" />
  <meta name="author" content="Robert Kubinec">
  <meta name="description" content="Assistant Professor of Political Science">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/academicons.min.css">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  <link rel="alternate" href="http://www.robertkubinec.com/index.xml" type="application/rss+xml" title="">
  <link rel="feed" href="http://www.robertkubinec.com/index.xml" type="application/rss+xml" title="">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="http://www.robertkubinec.com/post/stancon2018_paper/">

  

  <title>idealstan: an R Package for Ideal Point Modeling with Stan | </title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"></a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  
  <div class="article-header">
    <img src="/img//headers/markov_chain.png" class="article-banner" itemprop="image">
    
  </div>
  

  <div class="article-container">
    <h1 itemprop="name">idealstan: an R Package for Ideal Point Modeling with Stan</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="2018-03-14 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Wed, Mar 14, 2018
    </time>
  </span>

  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fwww.robertkubinec.com%2fpost%2fstancon2018_paper%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=idealstan%3a%20an%20R%20Package%20for%20Ideal%20Point%20Modeling%20with%20Stan&amp;url=http%3a%2f%2fwww.robertkubinec.com%2fpost%2fstancon2018_paper%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fwww.robertkubinec.com%2fpost%2fstancon2018_paper%2f&amp;title=idealstan%3a%20an%20R%20Package%20for%20Ideal%20Point%20Modeling%20with%20Stan"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=http%3a%2f%2fwww.robertkubinec.com%2fpost%2fstancon2018_paper%2f&amp;title=idealstan%3a%20an%20R%20Package%20for%20Ideal%20Point%20Modeling%20with%20Stan"
         target="_blank">
        <i class="fa fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=idealstan%3a%20an%20R%20Package%20for%20Ideal%20Point%20Modeling%20with%20Stan&amp;body=http%3a%2f%2fwww.robertkubinec.com%2fpost%2fstancon2018_paper%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<script src="/rmarkdown-libs/datatables-binding/datatables.js"></script>
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="/rmarkdown-libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="/rmarkdown-libs/dt-core/js/jquery.dataTables.min.js"></script>


<p><em>This is a paper that was presented at the <a href="http://mc-stan.org/events/stancon2018/">StanCon2018 conference</a> on Bayesian inference with the Stan Hamiltonian Markov Chain Monte Carlo (MCMC) method. Video of my talk is available <a href="https://www.youtube.com/watch?v=0ZjrLOosXwk&amp;t=4s">here</a>.</em></p>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This notebook introduces <a href="https://cran.r-project.org/package=idealstan"><code>idealstan</code></a>, a new R package front-end to <a href="http://www.mc-stan.org"><code>Stan</code></a> that allows for flexible modeling of a class of latent variable models known as ideal point models. Ideal point modeling is a form of dimension reduction, and shares similarities with multi-dimensional scaling, factor analysis and item-response theory. While the parameterization employed by <code>idealstan</code> is a derivation based on item-response theory, it is important to note that several other parameterizations are possible <a name=cite-carroll2013></a><a name=cite-armstrong2014></a>(<a href="#bib-carroll2013">Carroll, Lewis, Lo, Poole, and Rosenthal, 2013</a>; <a href="#bib-armstrong2014">Armstrong, Bakker, Carroll, Hare, Poole, and Rosenthal, 2014</a>).</p>
<p>What distinguishes ideal point modeling from other latent space models is that the latent factor is bi-directional: in other words, the unobserved latent construct that underlies the data could increase or decrease as the observed stimuli either increase or decrease. This type of latent variable is very useful when the aim is to cluster units around a polarizing dimension, such as the left-right axis in politics or the <span class="math inline">\(p\)</span>-value debate in statistics. While many of the applications of ideal point models are in political science and economics, it certainly can be applied more broadly, especially as the approach is related to latent space models more generally, such as in <a name=cite-hoff2002></a><a href="#bib-hoff2002">Hoff, Raftery, and Hancock (2002)</a>.</p>
<p>There are well-established frequentist (<a href="https://cran.r-project.org/web/packages/emIRT/index.html"><code>emIRT</code></a>) and Bayesian (<a href="https://cran.r-project.org/web/packages/pscl/pscl.pdf"><code>pscl</code></a> and <a href="https://cran.r-project.org/web/packages/MCMCpack/index.html"><code>MCMCpack</code></a>) packages for ideal point inference with R. However, these packages offer standard models that are limited in scope to particular problems, especially when it comes to including predictors in the latent space. The R package <code>idealstan</code> has three features that set it apart from existing approaches:</p>
<ol style="list-style-type: decimal">
<li>Stan offers significant flexibility compared to existing approaches in using non-conjugate priors and a clearer programming interface. This flexibility allows for more options for end users in ideal point modeling that can be used to test new theories and hypotheses instead of being limited in the range and type of models available. In particular, Stan makes it easier to add hierarchical and time-series priors on to parameters, which opens the door to further analysis of dynamic and time-varying social phenomena.</li>
<li>Stan scales well with the number of parameters, which is an attribute of most dimension reduction methods. Advances in Hamiltonian Monte Carlo estimation, including the use of variational inference and soon parallel computing within chains, promise to make full Bayesian inference of these models practical even with very large datasets.</li>
<li>Increasingly, Stan is being married to helpful and powerful diagnostic packages, including <a href="https://cran.r-project.org/web/packages/bayesplot/index.html"><code>bayesplot</code></a>, <a href="https://cran.r-project.org/web/packages/shinystan/index.html"><code>shinystan</code></a> and <a href="https://cran.r-project.org/web/packages/loo/index.html"><code>loo</code></a>, which extends the ability of <code>idealstan</code> to provide not only cutting-edge Bayesian inference but also increasingly sophisticated tools for graphical analysis of resulting estimates. Given the complex nature of latent variable models, diagonistics are extremely important for determining when the model is behaving as it should (and what the model should be doing in the first place).</li>
</ol>
<p><a href="https://github.com/saudiwin/idealstan"><code>idealstan</code></a> is an effort to build on prior efforts but also to offer new models that satisfy the increasing variety of applications to which ideal point models are being put. Both <code>pscl</code> and <code>MCMCpack</code> were designed for ideal point modeling of binary (logit) data from legislatures in which the outcome is made up of yes and no votes cast by legislators <a name=cite-jackman2004></a><a name=cite-quinn2002></a>(<a href="#bib-jackman2004">Clinton, Jackman, and Rivers, 2004</a>; <a href="#bib-quinn2002">Martin and Quinn, 2002</a>). More recently scholars have begun applying ideal point models to Twitter data <a name=cite-barbera2015></a>(<a href="#bib-barbera2015">Barberá, 2015</a>), massive campaign finance datasets <a name=cite-bonica2014></a>(<a href="#bib-bonica2014">Bonica, 2014</a>) and party campaign manifestos <a name=cite-slapin2008></a>(<a href="#bib-slapin2008">Slapin and Proksch, 2008</a>). This package offers both the traditional forms of ideal point models along with new extensions, including a version of ideal points that can take into account certain forms of missing data.</p>
<p>In this notebook I first introduce ideal-point models and contrast them with “traditional” item response theory (IRT), and then I demonstrate the <code>idealstan</code> package through simulations. I then perform two empirical analyses, the first of coffee product ratings from Amazon and the second with voting data taken from the 114th Senate. In the second example, I also show how <code>idealstan</code> enables new estimation of strategic legislator absence, a type of data that is usually coded as missing in vote datasets.</p>
</div>
<div id="ideal-point-models-as-a-subset-of-statistical-measurement" class="section level2">
<h2>Ideal Point Models as a Subset of Statistical Measurement</h2>
<p>Measurement error models have a long history in applied statistics and are increasingly in demand as the amount of noisy observational data grows with the digital revolution. Canonical statistical models, particularly linear regression, assume that the predictors are measured without error, but in many situations in social science, the variable of interest cannot in fact be measured. Rather, proxies or indicators are used to stand in for the latent construct. Measurement models offer a way to match the indicators with the latent construct while making appropriate assumptions about the relationship.</p>
<p>In other words, we suppose that the regression predictor matrix <span class="math inline">\(X\)</span> is itself a function of certain indicators <span class="math inline">\(I\_c \in \{1 ... C\}\)</span>:</p>
<p><span class="math display">\[ 
X = f(\forall I\_c \in \{1 ... C\})
\]</span></p>
<p>Different latent variable, latent space and measurement models can be distinguished in terms of the function <span class="math inline">\(f(\cdot)\)</span>. Fundamentally, <span class="math inline">\(f(\cdot)\)</span> has to stipulate how <span class="math inline">\(X\)</span> will change as the indicators change. It is possible to make very precise conditions for this relationship, which is the method applied in confirmatory factor analysis and structural equation modeling. It is also possible to let <span class="math inline">\(f(\cdot)\)</span> make only minimal assumptions about this relationship, which is the method adopted by exploratory factor analysis and item-response theory (IRT), in addition to the other latent space models in the literature. It is also possible, of course, to have models that fall somewhere in between truly exploratory and truly confirmatory models.</p>
<p>While much has been written about the different kids of <span class="math inline">\(f(\cdot)\)</span> that can be used in measurement models, in this paper I focus on a metric relevant to ideal point models: as the values of <span class="math inline">\(I\_c\)</span> increase, does <span class="math inline">\(X\)</span> also increase so that <span class="math inline">\(f(\cdot)\)</span> must be always non-decreasing? If that is the case, then the model can be thought of as falling into the domain of item-response theory and traditional factor analysis (in fact, IRT is itself a non-linear version of factor analysis per <a name=cite-takane1986></a><a href="#bib-takane1986">Takane and de Leeuw (1986)</a>). By contrast, ideal point models are based on a different set of assumptions in which <span class="math inline">\(X\)</span> could increase or decrease as the indicators <span class="math inline">\(I\_c\)</span> increase or decrease; in other words, the relationship is bi-polar instead of uni-polar.</p>
<p>Ideal point modeling originated from analysis of a common situation in policy research in which different legislators select from among competing policy alternatives based on the utility offered by each policy <a name=cite-enelow198></a><a name=cite-poole2008></a>(<a href="#bib-enelow198">Enelow and Hinich, 1984</a>; <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=1276082">Poole, Lewis, Lo, and Carroll, 2008</a>). Supposing that the policies are evaluated on a uni-dimensional space, if the utility of the “Yes” position on the policy is greater than the utility of the “No” position to a particular legislator, then that legislator will choose that policy. While very simple, this model has a requirement that is different from much of traditional IRT estimation: the policy outcomes can have different meanings based on their position relative to the legislator in the policy space. For example, if a legislator is very liberal (has a high value on the latent construct), then that legislator is likely to vote yes on bills that are also liberal, such as single-payer health care. But if the bill is conservative, such as national defense, then that legislator is more likely to vote no. In other words, the meaning of the positions of the bills in the latent space depends on the ideal point of the legislator, and thus the mapping to the latent space <span class="math inline">\(f(\cdot)\)</span> cannot be always non-decreasing. For some votes, a yes position may mean a high value of the latent space, while for others it may mean a lower value.</p>
<p>By comparison, in traditional IRT, responses to stimuli (the indicators <span class="math inline">\(I\_c\)</span>) reflect correct or incorrect answers, such as a student taking a test. Correct answers, which in the legislative context mean yes votes, always equal greater ability, while incorrect answers, which would be no votes, are always a sign of less ability. In this situation, <span class="math inline">\(f(\cdot)\)</span> is always non-decreasing. Thus while ideal point models share much in common with IRT, they require different assumptions.</p>
<p>A brief review of the mathematical notation will make the difference clear. The 2-PL IRT model takes the following form:</p>
<p><span class="math display">\[
Y\_{ij} = \alpha\_j x\_i - \beta\_j
\]</span></p>
<p>where <span class="math inline">\(Y\_{ij}\)</span> can be an outcome of any type (binary, ordinal, Poisson, etc.) that includes the correct or incorrect responses of <span class="math inline">\(I\)</span> test takers to <span class="math inline">\(J\)</span> test items, <span class="math inline">\(\alpha\_j\)</span> are the discrimination parameters that control the narrowness, hence discrimination, of each item <span class="math inline">\(j\)</span> on the test in the latent space, <span class="math inline">\(x\_i\)</span> are the test-taker ability parameters that reflect the ability of a person to answer an item correctly, and <span class="math inline">\(\beta\_j\)</span> are the difficulty or average probability/value of a correct response (the intercept). In the traditional IRT format, the <span class="math inline">\(\alpha\_j\)</span> discrimination parameters are always positive because a higher value (a correct answer) is always associated with higher ability <span class="math inline">\(x\_i\)</span>, while a lower value (an incorrect answer) is associated with less ability.</p>
<p>However, if the requirement that the discrimination parameters <span class="math inline">\(\alpha\_j\)</span> are positive is removed, then this model can also be used for ideal point modeling. For most applications, ideal-point modeling using IRT is built on the standard 2-PL model <a name=cite-gelman2005></a>(<a href="#bib-jackman2004">Clinton, Jackman, and Rivers, 2004</a>; <a href="#bib-gelman2005">Bafumi, Gelman, Park, and Kaplan, 2005</a>), with one notable exception: the discrimination parameters must be un-constrained, while in traditional IRT the discrimination parameters are constrained to all be either positive or negative. Constraining discrimination parameters to be positive is also the approach taken in the <a href="https://cran.r-project.org/web/packages/edstan/vignettes/briefmanual.html"><code>edstan</code></a> package, which offers the full range of standard IRT models using Stan.</p>
<p>Leaving the discrimination parameters un-consrained ensures that a higher or lower value of <span class="math inline">\(Y\_{ij}\)</span> could be associated with either a “correct” or “incorrect” answer as is necessary in an ideal point model. This happens because the latent space in an ideal point model is fundamentally a Euclidean distance that is rotation-invariant. The following figure makes this clear by showing a version of an ideal point model in which the ideal point (ability parameter) <span class="math inline">\(x\_i\)</span> is represented by a Normal distribution while the Yes and No points of a proposed policy are vertical lines.</p>
<p><img src="/post/stancon2018_paper_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>If <span class="math inline">\(x\_i\)</span> is to the right of the Indifference line, the legislator will vote Yes on the proposal, whereas if she is to the left, she will vote No. However, a different policy (item) could have the Yes and No positions switched so that a Yes vote would correspond to -2.5 and vice versa for the No vote. Thus the binary outcomes do not have the same interpretation as the standard IRT model because the relationship between the outcomes and the ability points is contingent.</p>
<p>If the discrimination parameters are unconstrained, <a href="#bib-jackman2004">Clinton, Jackman, and Rivers (2004)</a> showed that the midpoint of the policy/item parameter, which is labeled on the plot as the indifference line, is identified as <span class="math inline">\(-\frac{\alpha\_j}{\beta\_j}\)</span> in the original IRT model. This midpoint is important because it represents the point in the latent space in which an actor is indifferent, or has a 50% chance of voting yes or no. Unfortunately, the IRT paramerization of the ideal point model does not return the actual Yes or No positions of a bill/item, but these midpoints are sufficient to characterize the position of the items in the latent space.</p>
<p>While this difference between ideal point models and standard IRT may seem trivial, it has serious consequences for modeling. The basic issue is the non-identifiability of the IRT model, which the switching polarity of the discrimination parameters only makes more difficult. Ultimately, it becomes necessary to constrain the polarity of some of the ability or discrimination parameters to identify the model. However, it is necessary to choose parameters which would avoid “splitting the likelihood”, such as constraining a legislator whose true ideal point is near zero (<a href="#bib-gelman2005">Bafumi, Gelman, Park, et al., 2005</a>).</p>
<p><code>idealstan</code> exploits variational Bayesian (VB) inference <a name=cite-NIPS2015_5758></a>(<a href="http://papers.nips.cc/paper/5758-automatic-variational-inference-in-stan.pdf">Kucukelbir, Ranganath, Gelman, and Blei, 2015</a>) to assist with finding parameters for identification. <code>idealstan</code> first estimates an IRT model with rotation-unidentified parameters, which is not a problem for a single VB run. Then <code>idealstan</code> can select those parameters which show the highest or lowest values, and these parameters are then constrained in terms of their polarity. This approach can quickly speed up the sometimes painful process of identifying a particular IRT ideal point model, although it is also possible to constrain parameters before estimation based on prior information.</p>
</div>
<div id="missing-data-in-ideal-point-models" class="section level2">
<h2>Missing Data in Ideal Point Models</h2>
<p>Because of the flexibility of Stan,<code>idealstan</code> is not limited to implementing the standard IRT ideal point model. One of the modifications it offers is a model that can account for one-way censoring in the data, or what is called an absence-inflated ideal point model <a name=cite-kubinec2017></a>(<a href="#bib-kubinec2017">Kubinec, 2017a</a>). This model was motivated by the application of ideal point models to legislatures in which legislator actions are more diverse than simply Yes or No votes. Legislators can also be absent on votes and in parliamentary systems as in Europe, abstentions are also common. Abstentions occur when a legislator votes on a policy but refuses to either vote Yes or No, resulting in a vote record of abstention that conventional models will treat as missing data. However, if these two additional vote outcomes–absent and abstention–are removed from the estimation by encoding them as missing data, then the additional information about legislator behavior present in this data is lost.</p>
<p>As a solution for abstentions, I proposed in <a href="#bib-kubinec2017">Kubinec (2017a)</a> to model abstentions as a middle category between yes and no votes by treating <span class="math inline">\(Y\_{ij}\)</span> as an ordered logistic outcome <span class="math inline">\(Y\_{ijk}\)</span> for <span class="math inline">\(k\)</span> in three possible vote choices: <span class="math inline">\(\{1,2,3\}\)</span> (no, abstain, yes).</p>
<p>While switching from a logit to an ordered logistic model is straightforward, modeling the censoring implied by legislator absences requires the estimation of additional parameters. To do so, I model absence as a binary outcome in a separate equation as a hurdle model. Intuitively, legislators only show up to vote if they are able to overcome the hurdle of being present. Because in an ideal point model we only want to estimate a single set of person parameters (ideal points), I include an additional set of item (bill) parameters in the hurdle component that signify the way in which being absent on a policy proposal is related to the ideological value of the legislation.</p>
<p>The result is a two-stage model that inflates the ideal points by the probability that a legislator is absent on a particular bill. To create this model, I first start again with the essential 2-PL IRT model except that it now allows for cutpoints <span class="math inline">\(c\_k\)</span> for the <span class="math inline">\(K-1\)</span> vote outcomes (yes, abstain, no) with <span class="math inline">\(\zeta(\cdot)\)</span> representing the logit function:</p>
<p><span class="math display">\[
    L(\beta,\alpha,x|Y\_{ijk}) = \prod\_{i-1}^{I} \prod\_{j=1}^{J}
    \begin{cases} 
    1 -  \zeta(x\_{i}&#39;\beta\_j - \alpha\_j - c\_1) &amp; \text{if } K = 0 \\
    \zeta(x\_{i}&#39;\beta\_j - \alpha\_j - c\_{k-1}) - \zeta(x\_{i}&#39;\beta\_j - \alpha\_j - c\_{k})       &amp; \text{if } 0 &lt; k &lt; K, \text{ and} \\
    \zeta(x\_{i}&#39;\beta\_j - \alpha\_j - c\_{k-1}) - 0 &amp; \text{if } k=K
    \end{cases}
\]</span></p>
<p>Except for the addition of the vote cutpoints, this model is identical to the standard 2-PL IRT form, with ability parameters <span class="math inline">\(x\_i\)</span>, discriminations <span class="math inline">\(\beta\_j\)</span>, and difficulties <span class="math inline">\(a\_j\)</span>. The cutpoints carve up the latent space so that as ability rises or falls, the legislator becomes more likely to vote yes or no with abstention falling in between these two categories.</p>
<p>This ordered logit has to be embedded in the hurdle model to account for one-way censoring. Suppose that each legislator has a choice <span class="math inline">\(r \in \{0,1\}\)</span> in which <span class="math inline">\(r=1\)</span> if a legislator is absent and <span class="math inline">\(r=0\)</span> otherwise. With this notation, the likelihood of the hurdle model takes the following form:</p>
<p><span class="math display">\[
    L(\beta,\alpha,X,Q,\gamma,\omega|Y\_{k},Y\_{r}) = 
    \prod\_{I}^{i=1} \prod\_{J}^{j=1}
    \begin{cases}
    \zeta(x\_{i}&#39;\gamma\_j - \omega\_j ) &amp; \text{if } r=0, \text{ and} \\
    (1-\zeta({x\_{i}&#39;\gamma\_j - \omega\_j}))L(\beta,\alpha,X|Y\_{k1}) &amp; \text{if } r=1
    \end{cases}
\]</span></p>
<p>For the hurdle model to be able to affect the legislator ideal points, a separate IRT 2-PL model is included to predict the binary outcome of absence or presence. In this secondary model, the <span class="math inline">\(\gamma\_j\)</span> discrimination and <span class="math inline">\(\omega\_j\)</span> difficulty parameters represent the salience of a particular piece of legislation to an individual legislator <span class="math inline">\(x\_i\)</span>. Only if a bill clears the hurdle of salience will the legislator choose to vote on the legislation, i.e., reach the vote outcome model <span class="math inline">\(L(\beta,\alpha,X)\)</span>. This device allows for the ideal points <span class="math inline">\(x\_i\)</span> to adjust for the fact that the decision of a legislator to show up to vote on a particular bill may be strategic instead of random. In addition, this model is more widely applicable to situations in which an ideal point model is employed and missing data may be a function of the persons’ ideal points.</p>
</div>
<div id="model-simulation" class="section level2">
<h2>Model Simulation</h2>
<p>To identify the model, I placed <span class="math inline">\(N(0,1)\)</span> parameters on the <span class="math inline">\(x\_i\)</span> ideal points and additional polarity constraints on either the ideal points <span class="math inline">\(x\_i\)</span> or the discrimination parameters <span class="math inline">\(\gamma\_j\)</span> and <span class="math inline">\(\alpha\_j\)</span>. As a further restriction, I constrain one of the <span class="math inline">\(\beta\_j\)</span> to equal zero. These are the standard set of restrictions included in <code>idealstan</code>, although the scales of parameters can be modified. The full set of priors is as follows:</p>
<p><span class="math display">\[
        c\_k - c\_{k-1} \sim N(0,5)\\
        \gamma\_j \sim N(0,2)\\
        \omega\_j \sim N(0,5)\\
        \beta\_j \sim N(0,2)\\
        \alpha\_j \sim N(0,5)\\
        x\_i \sim N(0,1)
\]</span></p>
<p>The <span class="math inline">\(c\_k\)</span> parameters are the cutpoints for the <span class="math inline">\(K-1\)</span> ordinal outcomes. They are given a weakly informative prior on the differences between the cutpoints (see the prior help file in the Stan Development Github site). The rest of the priors are arbitrary as the scale of the latent variables is fixed only in the priors themselves.</p>
<p>To demonstrate the package, I first generate data from this data-generating process using a function <code>id_sim_gen()</code> built into <code>idealstan</code>:</p>
<div id="htmlwidget-1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[1,3,4,4,4,3],[4,1,1,1,4,4],[4,2,3,1,3,4],[1,4,4,4,4,1],[1,4,3,4,4,4],[4,2,3,2,3,2],[1,4,4,4,4,2],[2,4,4,4,4,4],[4,1,1,1,3,4],[4,3,3,3,4,3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>1<\/th>\n      <th>2<\/th>\n      <th>3<\/th>\n      <th>4<\/th>\n      <th>5<\/th>\n      <th>6<\/th>\n      <th>7<\/th>\n      <th>8<\/th>\n      <th>9<\/th>\n      <th>10<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row"}},"evals":[],"jsHooks":[]}</script>
<p>In this matrix, the legislators (persons) are represented by the rows and the bills (items) by the columns. The ordinal vote outcomes are numbered 1 to 3 (1=No,2=Abstain,3=Yes) and 4 represents absence.</p>
<p>I can then take this simulated data and put it into the <code>id_estimate</code> function. I also use the true values of the legislator ideal points <span class="math inline">\(x\_i\)</span> for polarity constraints in order to be able to return the “true” latent variables. The <code>id_estimate</code> function loads pre-compiled stan code a la <a href="https://cran.r-project.org/web/packages/rstantools/index.html"><code>rstantools</code></a> and then returns an R object containing a compiled stan model.</p>
<pre class="r"><code>true_legis &lt;- ord_ideal_sim@simul_data$true_person
high_leg &lt;- sort(true_legis,decreasing = T,index.return=T)
low_leg &lt;- sort(true_legis,index.return=T)

ord_ideal_est &lt;- id_estimate(idealdata=ord_ideal_sim,
                             model_type=4,
                             fixtype=&#39;constrained&#39;,
                             restrict_type=&#39;constrain_twoway&#39;,
                             restrict_ind_high = high_leg$ix[1:2],
                             restrict_ind_low=low_leg$ix[1:2],
                             refresh=500)</code></pre>
<p>For testing simulation results, the package contains a residual plot for looking at differences between true and estimated values which are stored in the R object:</p>
<p><img src="/post/stancon2018_paper_files/figure-html/check_true-1.png" width="672" /></p>
<p>The recovery of the true parameters is not perfect, but generally the errors sum to zero across the parameters. Recovering the true parameters is not usually of great interest in a latent variable model as the scale and rotation of the true values is rather arbitrary. However, this exercise is a basic test of the Stan model’s correspondence with the simulated data.</p>
</div>
<div id="empirical-example-the-polarization-of-coffee" class="section level2">
<h2>Empirical Example: The Polarization of Coffee</h2>
<p>To demonstrate the model’s functionality, I first use a dataset of ordinal rankings draw from Amazon food product reviews. <a name=cite-mcauley2013></a><a href="#bib-mcauley2013">McAuley and Leskovec (2013)</a> collected over 500,000 Amazon food reviews from 1999 to 2012 which are all coded on the 1 to 5 ranking scale that users can post on each product. I focus on a subset of this data by collecting all the reviews that mention the word “coffee” at least a handful of times.</p>
<pre class="r"><code>just_coffee &lt;- readRDS(&#39;just_coffee.rds&#39;)</code></pre>
<p>Ideal point models use variation between products and users in reviews to identify the latent space. For these reasons, little information is contributed by products and/or users that have very few reviews, and we can remove them from the data first to reduce the dimensionality of the data. Because <code>idealstan</code> is a full Bayesian model, these users and products do not cause any statistical problems, but they will slow estimation considerably as a large number of users only review one or two products.</p>
<pre class="r"><code>coffee_count_prod &lt;- group_by(just_coffee,ProductId) %&gt;% summarize(tot_unique=length(unique(UserId))) %&gt;% 
  filter(tot_unique&lt;30)
coffee_count_user &lt;- group_by(just_coffee,UserId) %&gt;% summarize(tot_unique=length(unique(ProductId))) %&gt;% 
  filter(tot_unique&lt;3)
just_coffee &lt;- anti_join(just_coffee,coffee_count_prod,by=&#39;ProductId&#39;) %&gt;% 
  anti_join(coffee_count_user,by=&#39;UserId&#39;)</code></pre>
<p>The data is currently in long format. To bring the data into <code>idealstan</code>, it first must be translated to wide format in which each item (product) is a column and each person (user) is a row. For this model, we will drop missing data as we will focus solely on the model’s ordinal rankings without accounting for the fact that users do not have reviews for all products.</p>
<p>Even with inactive users removed from the data, this model is quite large with 11269 users and 429 products. However, we can take advantage of variational inference in Stan to obtain approximate posterior estimates in a reasonable amount of time. We will also take advantage of <code>idealstan</code>’s use of variational inference for automatic model identification by running a non-identified (i.e., no constraints) model first, determining which of the users has a very high ideal point, and then constraining that ideal point in the final fitted model.</p>
<pre class="r"><code>coffee_model &lt;- id_estimate(idealdata=coffee_data,
                            model_type=3,
                            fixtype=&#39;vb&#39;,
                            restrict_ind_high = 1,
                            restrict_params=&#39;person&#39;,
                            auto_id = F,
                            use_vb=T)</code></pre>
<pre><code>## ------------------------------------------------------------
## EXPERIMENTAL ALGORITHM:
##   This procedure has not been thoroughly tested and may be unstable
##   or buggy. The interface is subject to change.
## ------------------------------------------------------------
## 
## 
## 
## Gradient evaluation took 0.042 seconds
## 1000 transitions using 10 leapfrog steps per transition would take 420 seconds.
## Adjust your expectations accordingly!
## 
## 
## Begin eta adaptation.
## Iteration:   1 / 250 [  0%]  (Adaptation)
## Iteration:  50 / 250 [ 20%]  (Adaptation)
## Iteration: 100 / 250 [ 40%]  (Adaptation)
## Iteration: 150 / 250 [ 60%]  (Adaptation)
## Iteration: 200 / 250 [ 80%]  (Adaptation)
## Success! Found best value [eta = 1] earlier than expected.
## 
## Begin stochastic gradient ascent.
##   iter       ELBO   delta_ELBO_mean   delta_ELBO_med   notes 
##    100    -6e+004             1.000            1.000
##    200    -5e+004             0.642            1.000
##    300    -5e+004             0.441            0.284
##    400    -5e+004             0.346            0.284
##    500    -5e+004             0.277            0.059
##    600    -5e+004             0.234            0.059
##    700    -5e+004             0.200            0.040
##    800    -5e+004             0.176            0.040
##    900    -5e+004             0.157            0.014
##   1000    -5e+004             0.142            0.014
##   1100    -5e+004             0.042            0.006   MEDIAN ELBO CONVERGED
## 
## Drawing a sample of size 1000 from the approximate posterior... 
## COMPLETED.
## ------------------------------------------------------------
## EXPERIMENTAL ALGORITHM:
##   This procedure has not been thoroughly tested and may be unstable
##   or buggy. The interface is subject to change.
## ------------------------------------------------------------
## 
## 
## 
## Gradient evaluation took 0.035 seconds
## 1000 transitions using 10 leapfrog steps per transition would take 350 seconds.
## Adjust your expectations accordingly!
## 
## 
## Begin eta adaptation.
## Iteration:   1 / 250 [  0%]  (Adaptation)
## Iteration:  50 / 250 [ 20%]  (Adaptation)
## Iteration: 100 / 250 [ 40%]  (Adaptation)
## Iteration: 150 / 250 [ 60%]  (Adaptation)
## Iteration: 200 / 250 [ 80%]  (Adaptation)
## Success! Found best value [eta = 1] earlier than expected.
## 
## Begin stochastic gradient ascent.
##   iter       ELBO   delta_ELBO_mean   delta_ELBO_med   notes 
##    100    -5e+009             1.000            1.000
##    200    -1e+008            22.582           44.164
##    300    -9e+010            15.388            1.000
##    400    -4e+009            17.796           25.020
##    500    -2e+007            58.526           25.020
##    600    -2e+006            49.788           25.020
##    700    -1e+006            42.834            6.097
##    800    -5e+004            40.303           22.581
##    900    -5e+004            35.826            6.097
##   1000    -5e+004            32.244            6.097
##   1100    -5e+004            32.146            6.097   MAY BE DIVERGING... INSPECT ELBO
##   1200    -5e+004            27.730            1.114   MAY BE DIVERGING... INSPECT ELBO
##   1300    -5e+004            27.630            1.114   MAY BE DIVERGING... INSPECT ELBO
##   1400    -5e+004            25.128            0.016   MAY BE DIVERGING... INSPECT ELBO
##   1500    -5e+004             2.984            0.015   MAY BE DIVERGING... INSPECT ELBO
##   1600    -5e+004             2.374            0.005   MEDIAN ELBO CONVERGED   MAY BE DIVERGING... INSPECT ELBO
## 
## Drawing a sample of size 1000 from the approximate posterior... 
## COMPLETED.</code></pre>
<p>What is of primary interest in this model are the discrimination parameters for the products. The discriminations will tell us which coffee products tend to divide the users most strongly into two poles as the model is one-dimensional. We can first look at the distribution of discriminations via a histogram:</p>
<pre class="r"><code>id_plot_all_hist(coffee_model,params = &#39;regular_discrim&#39;)</code></pre>
<p><img src="/post/stancon2018_paper_files/figure-html/plot_discrim-1.png" width="672" /></p>
<p>To gain a sense of how polarizing these products, we can plot the product mid-point, or the point at which a user is indifferent between one rating score and a higher rating score, over the ideal point distribution. I color the user points by their actual ratings:</p>
<pre class="r"><code>id_plot_legis(coffee_model,group_color=F,group_overlap = T,
              person_labels=F,person_ci_alpha = .05,
              item_plot=429,
              group_labels=F,
              point_size=2,
              show_score = c(&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;,&#39;5&#39;),
              text_size_group = 4)</code></pre>
<p><img src="/post/stancon2018_paper_files/figure-html/high_pos_discrim-1.png" width="672" /></p>
<p>As can be seen, the product midpoints nearly perfectly segment the user base. We also a large number of 1s and 5s in the observed ratings. This distribution shows that users tend to be very divided on this product, and also that their disagreement over the product is itself a reflection of an underlying dimension, their ideal points.</p>
<p>Finally, I include here the top 10 most polarizing (highly discriminative) products from each end of the ideal point spectrum.</p>
<p>First, the top 10 most positive discrimination:</p>
<div id="htmlwidget-2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],["Kicking Horse Coffee 454 Horse Power Dark, Whole Bean","Amazing Grass Green Superfood Organic Powder","Starbucks Via Ready Brew Instant Coffee","Stephen's Gourmet Hot Cocoa, Candycane Cocoa","Prince of Peace Organic Tea, Oolong","NOW Foods Erythritol Natural Sweetener","illy Cappucino, 12 pack","Nestle Hot Cocoa Mix","Better than Milk Vegan Soy Powder","Ghirardelli Chocolate Sweet Ground Chocolate &amp; Cocoa"],[7.87259,7.864585,7.80567,7.805575,7.770375,7.770345,7.727985,7.33822,7.33797,7.28447]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Product Description<\/th>\n      <th>Discrimination<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row"}},"evals":[],"jsHooks":[]}</script>
<p>Second, the top 10 least positive negative discrimination:</p>
<div id="htmlwidget-3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],["Melitta Cafe de Europa Gourmet Coffee","McCann's Steel Cut Irish Oatmeal","Stash Tea Gunpowder Green Loose Leaf Tea","Nutiva Organic Coconut Oil","Stash Tea Company English Breakfast","Equal Exchange Organic Coffee, Mind Body Soul, Whole Bean","Ghirardelli Premium Hot Beverage Mix, White Mocha, 19-Ounce Cans","Victorian Inn Instant Hot Cappucino, French Vanilla","Medaglia Doro Instant Espresso","Yogi Tea, Green Tea Super Antioxidant"],[-9.79306,-9.785615,-9.70132,-9.616965,-7.77101,-7.75944,-7.74106,-7.73298,-7.17082,-7.13721]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Product Description<\/th>\n      <th>Discrimination<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row"}},"evals":[],"jsHooks":[]}</script>
<p>While a full interpretation of these results would require significant work at examining the full range of products and their relevant discrimination scores, what is clear is that positive discrimination tends to have more large brands of coffee, including Starbucks and Illy, while the negative discrimination products tend to b esmaller brands, such as Melitta Cafe and Equal Exchange Organic Coffee. The most interesting finding in this analysis is that Ghirardelli products are at both ends of the scale: one type of Ghirardelli powdered drink, Ghirardelli Chocolate, has high positive discrimination, while Ghirardelli White Mocha has high negative discrimination. Intuitivelly, these products are appealing to different reviewers with very diverging preferences.</p>
<p>In the next section, I apply the ideal point model to a more traditional domain–the U.S. Congress–and also examine the role of including missing data via inflation.</p>
</div>
<div id="empirical-example-114th-senate" class="section level2">
<h2>Empirical Example: 114th Senate</h2>
<p>As an empirical example of the model, I use data from the <a href="http://www.voteview.com" class="uri">http://www.voteview.com</a> website on the voting record of the 114th US Senate. This dataset comes with the <code>idealstan</code> package, and I then recode the data to correspond to a standard R matrix. However, because abstentions rarely happen in the US Congress, I do not include abstentions in this model and instead estimate a standard binary IRT 2-PL with inflation for missing data (absences). I then pass the matrix of vote records to the <code>id_make</code> function to create an object suitable for running the model.</p>
<p><img src="/post/stancon2018_paper_files/figure-html/use_senate-1.png" width="672" /></p>
<p>Given a suitable object from <code>id_make</code>, the <code>id_estimate</code> function can estimate a variety of IRT ideal point models, including 2-PL, ordinal, hierarchical and dynamic IRT (using random-walk priors). For this run we set the <code>model_type</code> parameter to <code>2</code>, which represents a 2-PL model with absence inflation. Because this dataset is of a significant size, I use variational inference instead of the full sampler to demonstrate its use. I do not, however, use the automatic identification option <code>auto_id</code> because it is relatively easy to constrain particular legislator ideal points for the Senate. In this case, I constrain Ben Sasse, Marco Rubio, Berni Sanders, Ted Cruz, Harry Reid and Elizabeth Warren, all senators with pronounced ideological views.</p>
<p>After estimating the model, I can look at a graphical display of the ideal points with the <code>id_plot</code> function. The <code>id_plot</code> function produces a <code>ggplot2</code> object which can be further modified. The legislators are given colors based on their party affiliation. The general shape of the ideal point distribution reflects the nature of polarization in the US Congress, with relatively few moderates near the center of the distribution.</p>
<pre><code>## ------------------------------------------------------------
## EXPERIMENTAL ALGORITHM:
##   This procedure has not been thoroughly tested and may be unstable
##   or buggy. The interface is subject to change.
## ------------------------------------------------------------
## 
## 
## 
## Gradient evaluation took 0.026 seconds
## 1000 transitions using 10 leapfrog steps per transition would take 260 seconds.
## Adjust your expectations accordingly!
## 
## 
## Begin eta adaptation.
## Iteration:   1 / 250 [  0%]  (Adaptation)
## Iteration:  50 / 250 [ 20%]  (Adaptation)
## Iteration: 100 / 250 [ 40%]  (Adaptation)
## Iteration: 150 / 250 [ 60%]  (Adaptation)
## Iteration: 200 / 250 [ 80%]  (Adaptation)
## Success! Found best value [eta = 1] earlier than expected.
## 
## Begin stochastic gradient ascent.
##   iter       ELBO   delta_ELBO_mean   delta_ELBO_med   notes 
##    100    -2e+004             1.000            1.000
##    200    -2e+004             0.509            1.000
##    300    -2e+004             0.341            0.018
##    400    -2e+004             0.256            0.018
##    500    -2e+004             0.205            0.003   MEDIAN ELBO CONVERGED
## 
## Drawing a sample of size 1000 from the approximate posterior... 
## COMPLETED.</code></pre>
<p><img src="/post/stancon2018_paper_files/figure-html/run_114_model-1.png" width="672" /></p>
<p>We can also plot the bill (item) midpoints as a line of indifference that we overlay on top of the ideal points.</p>
<pre class="r"><code>id_plot(sen_est,person_ci_alpha=.1,item_plot=205,
        group_labels=T,
        abs_and_reg=&#39;Vote Points&#39;) + scale_colour_brewer(type=&#39;qual&#39;)</code></pre>
<p><img src="/post/stancon2018_paper_files/figure-html/bill_plot-1.png" width="672" /></p>
<p>For this particular piece of legislation, the midpoint is right in the middle of the ideal point distribution, showing that the bill has very high discrimination. Also, the rug lines at the bottom of the plot, which show the HPD for the midpoint, indicate that the model is uncertain about the votes of only a handful of Senators on this bill.</p>
<p>We can similarly examine the absence midpoint for the same bill, which signifies the place on the ideal point spectrum at which a legislator is indifferent from showing up to vote. In this case, only very conservative Republicans chose not to show up to vote.</p>
<p><img src="/post/stancon2018_paper_files/figure-html/abs_bill_plot-1.png" width="672" /></p>
<p>We can use the bill absence parameters to also see which bills showed the highest discrimination in terms of absences, or in other words, for which bills did the absence of legislators signify that they intentionally did not show up? To do this, I sort the discrimination parameters from the underlying Stan object and then merge them with the bill labels from voteview.org.</p>
<p>First we can look at the top 10 bills with liberal/Democrat absence discrimination:</p>
<div id="htmlwidget-4" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],["To ensure that the storage and transportation of petroleum coke is regulated in a manner that ensures the protection of public and ecological health.","To continue cleaning up fields and streams while protecting neighborhoods, generating affordable energy, and creating jobs.","To express the sense of the Senate that climate change is real and not a hoax.","To require the use of iron, steel, and manufactured goods produced in the United States in the construction of the Keystone XL Pipeline and facilities.","To express the sense of Congress regarding federally protected land.","To promote energy efficiency.","To provide limits on the designation of new federally protected land.","To express the sense of Congress regarding climate change.","To conform citizen suits under the Endangered Species Act of 1973.","To ensure that oil transported through the Keystone XL pipeline into the United States is used to reduce United States dependence on Middle Eastern oil."],[1.819605,1.688775,1.67506,1.66709,1.643,1.549565,1.52296,1.499735,1.483755,1.453105]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Bill Description<\/th>\n      <th>Absence Discrimination<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row"}},"evals":[],"jsHooks":[]}</script>
<p>Interestingly, Democrats appeared to be strategically absent most often on bills about climate change and the Keystone XL pipeline.</p>
<p>For conseratives the bills are as follows:</p>
<div id="htmlwidget-5" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10"],["To limit the availability of amounts authorized to be appropriated for overseas contingency operations pending relief from the spending limits under the Budget Control Act of 2011.","To strike the FOIA exemption.","To improve the bill.","To improve the requirements relating to removal of personal information from cyber threat indicators before sharing.","To strengthen the Justice for Victims of Trafficking Act by incorporating additional bipartisan amendments.","To protect information that is reasonably believed to be personal information or information that identifies a specific person.","To improve the definitions of cybersecurity threat and cyber threat indicator.","To exempt from the capability and process within the Department of Homeland Security communication between a private entity and the Federal Bureau of Investigation or the United States Secret Service regarding cybersecurity threats.","An original bill to improve cybersecurity in the United States through enhanced sharing of information about cybersecurity threats, and for other purposes.","To modify section105 to require DHS to review all cyber threat indicators and countermeasures in order to remove certain personal information."],[-3.956115,-3.639605,-3.63636,-3.57792,-3.516255,-3.42238,-3.15867,-3.12428,-3.075425,-2.992295]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Bill Description<\/th>\n      <th>Absence Discrimination<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row"}},"evals":[],"jsHooks":[]}</script>
<p>For Republicans, on the other hand, it appears that cybersecurity and inter-departmental information sharing were the laws in which they chose not to show up for ideological (or political) reasons. This could be due to concerns among the conservative base regarding government over-reach and collecting information.</p>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p><code>idealstan</code> is an effort to put state-of-the-art ideal point models along with the power of full Bayesian analysis in the hands of applied researchers in the social sciences. While the empirical examples presented were from the US Congress, the model can be used in any situation in which the assumptions of the ideal point model (unconstrained ideal point space) apply, i.e., situations in which the latent space is fundamentally polarizing between people. While similar in function and form to the <code>edstan</code> package, the <code>idealstan</code> package has to use more complicated forms of identification because of the difficulty of leaving discrimination parameters unconstrained.</p>
<p>Moving forward, I intend to add in more functionality to smoothly operate with <code>shinystan</code> and <code>bayesplot</code>, as well as add further types of explanatory IRT models. The intention is to have a package on which applied researchers can run different ideal point models and then examine how different modeling choices affect the results. In addition, I will continue to build more visualization options so that the results are easily digestable and publishable.</p>
</div>
<div id="references" class="section level2">
<h2>References</h2>
<p>’ <a name=bib-enelow198></a><a href="#cite-enelow198">[1]</a> J. M. Enelow and M. J. Hinich. <em>The Spatial Theory of Voting: An Introduction</em>. Cambridge University Press, 1984.</p>
<p><a name=bib-takane1986></a><a href="#cite-takane1986">[2]</a> Y. Takane and J. de Leeuw. “On the Relationship Between Item Response Theory and Factor Analysis of Discretized Variables”. In: <em>Psychometrika</em> 52.3 (1986), pp. 393-408.</p>
<p><a name=bib-hoff2002></a><a href="#cite-hoff2002">[3]</a> P. D. Hoff, A. E. Raftery and M. S. Hancock. “Latent Space Approaches to Social Network Analysis”. In: <em>Journal of the American Statistical Association</em> 97.460 (2002), pp. 1090-1098.</p>
<p><a name=bib-quinn2002></a><a href="#cite-quinn2002">[4]</a> A. D. Martin and K. M. Quinn. “Dynamic Ideal Point Estimation via Markov Chain Monte Carlo for the U.S. Supreme Court, 1953-1999”. In: <em>Political Analysis</em> 10.2 (2002), pp. 134-153.</p>
<p><a name=bib-jackman2004></a><a href="#cite-jackman2004">[5]</a> J. Clinton, S. Jackman and D. Rivers. “The Statistical Analysis of Rollcall Data”. In: <em>American Political Science Review</em> 98.2 (2004), pp. 355-370.</p>
<p><a name=bib-gelman2005></a><a href="#cite-gelman2005">[6]</a> J. Bafumi, A. Gelman, D. K. Park, et al. “Practical Issues in Implementing and Understanding Bayesian Ideal Point Estimation”. In: <em>Political Analysis</em> 13.2 (2005), pp. 171-187.</p>
<p><a name=bib-poole2008></a><a href="#cite-poole2008">[7]</a> K. T. Poole, J. B. Lewis, J. Lo, et al. <em>Scaling Roll Call Votes with W-NOMINATE in R</em>. Working Paper. Social Science Research Network, Oct. 06, 2008. URL: <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=1276082" class="uri">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=1276082</a>.</p>
<p><a name=bib-slapin2008></a><a href="#cite-slapin2008">[8]</a> J. B. Slapin and S. Proksch. “A Scaling Model for Estimating Time-Series Party Positions from Texts”. In: <em>American Journal of Political Science</em> 52.3 (2008), pp. 705-722.</p>
<p><a name=bib-carroll2013></a><a href="#cite-carroll2013">[9]</a> R. Carroll, J. B. Lewis, J. Lo, et al. “The Structure of Utility in Spatial Models of Voting”. In: <em>American Journal of Political Science</em> 57.4 (2013), pp. 1008-1028.</p>
<p><a name=bib-mcauley2013></a><a href="#cite-mcauley2013">[10]</a> J. McAuley and J. Leskovec. “From Amateurs to Connoisseurs: Modeling the Evolution of User Expertise through Online Reviews”. In: <em>WWW</em> (2013).</p>
<p><a name=bib-armstrong2014></a><a href="#cite-armstrong2014">[11]</a> D. A. Armstrong, R. Bakker, R. Carroll, et al. <em>Analyzing Spatial Models of Choice and Judgment with R</em>. CRC Press, 2014.</p>
<p><a name=bib-bonica2014></a><a href="#cite-bonica2014">[12]</a> A. Bonica. “Mapping the Ideological Marketplace”. In: <em>American Journal of Political Science</em> 58.2 (2014), pp. 367-386.</p>
<p><a name=bib-barbera2015></a><a href="#cite-barbera2015">[13]</a> P. BarberÃ¡. “Birds of the Same Feather Tweet Together: Bayesian Ideal Point Estimation Using Twitter Data”. In: <em>Political Analysis</em> 23 (2015), pp. 76-91.</p>
<p><a name=bib-NIPS2015_5758></a><a href="#cite-NIPS2015_5758">[14]</a> A. Kucukelbir, R. Ranganath, A. Gelman, et al. “Automatic Variational Inference in Stan”. In: <em>Advances in Neural Information Processing Systems 28</em>. Ed. by C. Cortes, N. D. Lawrence, D. D. Lee, M. Sugiyama and R. Garnett. Curran Associates, Inc., 2015, pp. 568-576. URL: <a href="http://papers.nips.cc/paper/5758-automatic-variational-inference-in-stan.pdf" class="uri">http://papers.nips.cc/paper/5758-automatic-variational-inference-in-stan.pdf</a>.</p>
<p><a name=bib-kubinec2017></a><a href="#cite-kubinec2017">[15]</a> R. Kubinec. <em>Absence Makes the Ideal Points Sharper</em>. Poster. Political Methodology Society, 2017.</p>
</div>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    

    
    <li class="next"><a href="http://www.robertkubinec.com/post/conjoint_power_simulation/">Simulating Conjoint Survey Experiments <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  <div id="disqus_thread"></div>
<script>
(function() {
var d = document, s = d.createElement('script');
s.src = 'https://robertkubinec.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      © 2018 Robert Kubinec &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="/js/jquery-1.12.3.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="/js/hugo-academic.js"></script>
    

    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-67302886-1', 'auto');
        ga('send', 'pageview');

         
        var links = document.querySelectorAll('a');
        Array.prototype.map.call(links, function(item) {
            if (item.host != document.location.host) {
                item.addEventListener('click', function() {
                    var action = item.getAttribute('data-action') || 'follow';
                    ga('send', 'event', 'outbound', action, item.href);
                });
            }
        });
    </script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>
    <script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
    

  </body>
</html>

